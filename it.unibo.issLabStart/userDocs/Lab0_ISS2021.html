<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
    <!--
<link rel="stylesheet" type="text/css" href="../css/issStyle1.css">
<script type="text/javascript" src="../css/issStyle.js"></script>
-->
<style type="text/css">
body
{
    margin-left:  30px;
    margin-right: 30px;
};

P
{
    font-family: Tahoma;
    font-size: 10pt;
};

a, a:visited, a:active, a:link, a:hover {
    text-decoration: underline;
    color: #545454;
    background-color: transparent;
}

a:hover {
    background-color: #cccccc;
}


hr {
    clear: both;
    height: 1px;
    color: #242424;
    background-color: transparent;
}

h1, h2, h3 {
    color: #242424;
    clear: left;
    font: 100% Tahoma, Helvetica, Arial, sans-serif;
    margin: 10;
    margin-right: 15px;
    margin-bottom: 0.5em;
    padding-top: 0.5em;
    border-bottom: 1px solid #242424;
}

h1 {
    font-size: 150%;
    background-color: #b2c0ff;
}

h2 {
    background-color: #d9fbff;
    font-size: 110%;
}

h3 {
	background-color: #e6ccff;
    font-size: 80%;
}
h4 {
    background-color: #99ffcc;
    font-size: 100%;
	width: 750px;
}
#i {
    color: #ff1010;
}
tt{
	font-family: "Arial";
    font-size: 80%;
	color: #006600;
}
em{
	font-family: "Arial";
    font-size: 80%;
	font-weight: bold;
	border-style:solid;
	border-color: #ccffff;
    color: #0033cc;
}
bc{
	font-family: "Arial";
	font-size: 80%;
	font-weight: bold;
    color: #990000;
	background-color: #fcf8c7;
}
k{
	font-family: "Arial";
	font-weight: bold;
    color: #990000;
	 
}
ks{
	font-family: "Arial";
	font-weight: bold;
    color: #0000CD	;
	 
}
kc{
	font-family: "Arial";
	font-weight: bold;
    color: #008000	;
	 
}
pre{
	font-family: "Helvetica";
	font-size: 90%;
	background-color: #fcf8c7;
	border: 1px solid blue;
}
m{
	font-family: "Helvetica";
	line-height: 100%;
 	font-size: 75%;
}
div.body{
	width: 800px;
    font-size: 18px;
}    
div.req{
	background-color: #d9ffb3;
    font-size: 18px;
	width: 700px;
    border: 3px solid green;
    padding: 15px;
    margin: 10px;
}       
div.remark{
	background-color: #FFFC33;     
    border: 3px solid green;
    padding: 15px;
    margin: 10px;
}  
table, th, td {
  border: 1px solid black;
  border-collapse: collapse;
}     
</style>
    
<head>
   
<title>Lab0_ISS2021</title></head>  
    
<body>
<h1>Lab0_ISS2021 | Tools</h1> 
     

<div class="body"> 
	<h2>GIT </h2> 
	There are many info sources; for example: <a href="https://www.youtube.com/watch?v=HVsySz-h9r4"  target="web">GIT Command Line Basic (video)c</a>
	and <a href="https://confluence.atlassian.com/bitbucketserver/basic-git-commands-776639767.html"  target="code">Basic Git commands</a>.
	
	
	<h3>GIT | clone the iss2020Lab</h3>
	<ol>
	<li>Open a new, <b>empty</b> directory (e.g. <tt>iss2020</tt>)and work in it.</li>
	<li>Execute <bc>git clone  https://github.com/anatali/iss2020LabBo.git </bc></li>
	<li>Execute <bc>git remote -v</bc>
	<li>Use the files as a <u>read-only reference</u>: never change them</li>
	<li>Execute <bc>git pull</bc> when needed</li>
	</ol>
	
	
	<h3>GIT | useful commands </h3> 
	<ul>
	<li><pre>git config --global core.autocrlf input  <m><kc>//Convert all CRLF line endings to LF before it stores it in the commit.</kc></m> </pre>
	When we clone a project that was created on the MS Windows platform
	MS Windows typically put append a hidden <tt>CR + LF</tt> characters on the end of each line of a text file.
	</li>
	<li><pre>git status --h</pre>
	<li><pre>git status --ignored   <m><kc>//To see the ignored files</kc></m></pre>
	<!-- <li><pre>git rm --cached build -r</pre> REMOVE from Staging area</li> -->
	<li><pre>git reset --hard  <m><kc>//Resets the index and working tree. 
					Any changes to tracked files in the working tree are discarded.</kc></m></pre> </li>
	</li>
	</ul>
 
    <h2>GRADLE</h2>
    See <a href="https://gradle.org/guides/" target="web">Gradle Tutorials and Guides</a> 
	

	<h3>Gradle | Hands on</h3>
    <ol>
        <li> See <a href="https://riptutorial.com/it/gradle" target="web">Gradle Tutorials and Guides</a> and <br/>
		<a href="https://gradle.org/install/" target="code">Download <tt>gradle</tt></a> (using <tt>zip</tt> or <tt>SDKMAN</tt>). Current version: <tt>6.2.2</tt>.</li>
        <li>Set <tt>GRADLE_HOME</tt> to the unpacked Gradle files and add <tt>GRADLE_HOME/bin</tt> to your <tt>PATH</tt> environment variable.
		Execute <bc>gradle -v</bc>.</li>
        <li>Create a work dir (e.g. <tt>iss2021</tt>) and work in it.</li>
	</ol>



	<h3> GRADLE project | Add GIT and experiment</h3>	
	<ul>
	<li>Execute <bc>git init</bc> within directory  <tt>iss2020</tt> introduced above. </li>
	<li>Execute <bc>git status</bc>.</li>
	<li></li>
	<li>Execute <bc>git add -A</bc> and <bc>git status</bc>.</li>
	<li>Execute <bc>git reset</bc> to undo staging.</li>
	<li></li>
	<li>Execute <bc>git remote add origin https://github.com/... </bc> to connect to a remote <tt>GIT</tt>.</li> 
	<!-- git remote add origin https://github.com/anatali/lss0 -->
	<li>Execute <bc>git remote -v</bc>
	<li>Execute <bc>git checkout master</bc> and  <bc>git merge origin/master --allow-unrelated-histories</bc> if needed. </li>
	<li>Execute <bc>git push origin master</bc> to update the remote <tt>GIT</tt> </li>
	<li></li>
	<li>Execute <bc>git commit -m "First"</bc> and <bc>git status</bc>.</li>
	<li>Execute <bc>git log</bc>.</li>
<!--	<li></li>
	<li>Execute <bc>git rm file.txt (--cached file.txt)</bc>  to delete (remove) files.</li>

	<li>Execute <bc>git config --list</bc>.</li>
	<li>Execute <bc>git config --global user.name "Your Name"</bc>, <bc>git config --global user.email "Your Email"</bc> </li>


	<li>Edit the file <a href="../.gitignore" target="code">.gitignore</a></li>
 -->	</ul>
 
	<h3>From Java to Kotlin using IntelliJ IDEA</h3> 
	<ol>
		<li>Copy <tt>App.java</tt> in a new class named <tt>AppOriginal.java</tt></li>
		<li>Open the current working folder (mouse on it) as <m><ks>IntelliJ IDEA Community Edition Project</ks></m>.  
		Note the selection on <tt>use default gradlew wrapper (reccomended)</tt>. If you have upgraded gradle, 
		you should also select <tt>file -> invalidate cache and restart</tt> or (better) update IntelliJ to the latest stable version.</li>
		<li>Select <tt>App.java</tt> and click on <i>Convert Java file to Kotlin file</i> (<tt>CTRL-ALT-SHIFT-K</tt>)
		and click on the link pop-up <m><ks>configure kotlin</ks></m> and on <m><ks>enable auto-import</ks></m>.
		Note the tasks added in <ks>build.gradle</ks></li>
		<li>compare the generated <tt>App.kt</tt> with the original <tt>App.java</tt></li>
		<!-- <li>In <a href="../build.gradle" target="code">build.gradle</a>, set <tt>mainClassName='App<k>Kt</k>'</tt></li> -->
		<li>Execute <bc>gradle run</bc> </li>
	</ol>

	
	<h3>From Gradle to Eclipse</h3>
	
	<ol>
         <li>Open Eclipse in a new  workspace  </li>
        <li>Select <m><ks>Import projects -> Gradle -> existing Gradle project</ks></m> ...  the project in  <tt>iss2020</tt>.</li>
		<li>Look at the generated files <tt>.classpath</tt> and <tt>.project</tt></li>
 		<li>Look at the file <tt>Test.java</tt> that now contains errors.</li>
		<li>Mouse on project, click rigtht and select <m> <ks>Configure Kotlin -> add kotlin nature</ks></m> </li>
		<li>Observe that <tt>Test.java</tt> still contains errors.</li>
		<li>In <tt>build.gradle</tt> add  <ks>id 'eclipse'</ks> within <ks>plugins</ks></li>
        <li>Execute <bc>gradle build eclipse </bc></li>
        <li>Run the Test with Junit	</li>
 	</ol>
    
	<h3>“Missing Gradle project configuration file” issue in Buildship</h3>
	This would happen if you have a checked in <bc>.project</bc> file with the buildship nature, but no checked in settings file.
 	The choice is between checking in both or checking in neither and using the Gradle import wizard.<br/>
	See <a href="https://www.eclipse.org/community/eclipse_newsletter/2018/february/buildship.php" target="web">
	Build Gradle projects with Eclipse Buildship</a>
	
<h2 id="uniboactions">Iss-unibo specific configuration and actions</h2>
	<ol>
		<li>Download <a href="https://www.eclipse.org/downloads/packages/release/2020-06/r" target="web"><bc>Eclipse IDE for Java and DSL Developers 2020-06</bc></a>
		(Avoid more recent versions)</li>
	 	<li>Select <tt>Windows->preferences->Java->Installe JREs</tt> Select <bc>jre.1.8....</bc></li>
		<li>Add <bc>plugin for Kotlin</bc> (last version <tt>0.8.21</tt>)</li>
 		<li>Add  a <tt>Terminal</tt> (optional)</li>
		<li>Copy into the directory <k>dropins</k>:
			<ul>
			<li><tt>it.unibo.issLabStart\resources\plugins\it.unibo.Qactork_x.y.z.jar</tt></li>
			<li><tt>it.unibo.issLabStart\resources\plugins\it.unibo.Qactork.ide_x.y.z.jar</tt></li>
			<li><tt>it.unibo.issLabStart\resources\plugins\it.unibo.Qactork.ui_x.y.z.jar</tt></li>
			</ul>
		</li>
		<li>Restart Eclipse</li>
 	</ol>
<hr/>	
	<ol>
 		<li>With reference to the cloned repo  
		<a href="https://github.com/anatali/iss2021Lab.git" target="web"> <tt>https://github.com/anatali/iss2021Lab.git </tt></a>, select a project using<br/>
          <m><ks>File -> Import  -> General -> Existing projects into Workspace</ks></m> ...  a <bc>COPY IT</bc> in  <tt>iss2021</tt>.</li>
		<li>With reference to the included file <em>build.gradle</em>, execute <bc>gradle build eclipse</bc> and give the time to build or run <bc>refresh (F5)</bc>.
		<br/>
		Looking at the generated file<bc>.project</bc>, you will see that the project usually has <em>java</em>, <em>kotlin</em> and <em>gradle</em> nature.
		<br/>
		Looking at the generated file<bc>.classpath</bc>, you will see that the library set that solves dependencies..
		</li>
		<li>If needed, select <b>Configure Kotlin -> Add Kotlin nature</b> : it says that <bc>kotlin-stdlib.jar, kotlin-reflect.jar</bc> are added to the project classpath.</li>
	</ol>
	
 
	
</div>  
<div style="background-color:rgba(86, 56, 253, 0.9); width:100%;text-align:center;font-size:small;color:white">
By AN Unibo-DISI    
</div> 
</body>
</html>