
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>RaspberryPi &#8212; iss22 1.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Robots" href="Robots.html" />
    <link rel="prev" title="Attori qak" href="AttoriQak.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="contents topic" id="overview">
<p class="topic-title">Overview</p>
<ul class="simple">
<li><p><a class="reference internal" href="#raspberrypi" id="id2">RaspberryPi</a></p>
<ul>
<li><p><a class="reference internal" href="#azioni-preliminari" id="id3">Azioni Preliminari</a></p></li>
<li><p><a class="reference internal" href="#uno-sguardo-al-sistema" id="id4">Uno sguardo al sistema</a></p></li>
<li><p><a class="reference internal" href="#abilitazione" id="id5">Abilitazione</a></p></li>
<li><p><a class="reference internal" href="#installazioni-2022" id="id6">Installazioni 2022</a></p>
<ul>
<li><p><a class="reference internal" href="#java" id="id7">Java</a></p></li>
<li><p><a class="reference internal" href="#git" id="id8">GIT</a></p></li>
<li><p><a class="reference internal" href="#node-ed-express" id="id9">Node ed Express</a></p></li>
<li><p><a class="reference internal" href="#samba" id="id10">Samba</a></p></li>
<li><p><a class="reference internal" href="#cmake" id="id11">cmake</a></p></li>
<li><p><a class="reference internal" href="#shellinabox" id="id12">Shellinabox</a></p></li>
<li><p><a class="reference internal" href="#ambiente-virtuale-python" id="id13">Ambiente virtuale Python</a></p></li>
<li><p><a class="reference internal" href="#multi-media" id="id14">Multi-Media</a></p>
<ul>
<li><p><a class="reference internal" href="#audio-con-alsa" id="id15">Audio con alsa</a></p></li>
<li><p><a class="reference internal" href="#raspicam" id="id16">RaspiCam</a></p></li>
<li><p><a class="reference internal" href="#webcam" id="id17">WebCam</a></p></li>
<li><p><a class="reference internal" href="#mjpg-streamer" id="id18">mjpg-streamer</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#pygame" id="id19">pygame</a></p></li>
<li><p><a class="reference internal" href="#opencv" id="id20">opencv</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#comandi-utili" id="id21">Comandi utili</a></p></li>
</ul>
</li>
</ul>
</div>
<section id="raspberrypi">
<h1><a class="toc-backref" href="#id2">RaspberryPi</a><a class="headerlink" href="#raspberrypi" title="Permalink to this headline">¶</a></h1>
<p><span class="remark">Costa poco e si fa (e si impara) molto.</span></p>
<p>Riportiamo alcuni appunti per rendere più agevole l’attivazione e l’uso del RaspberryPi.
Il modello di riferimento è il <code class="docutils literal notranslate"><span class="pre">RaspberryPi</span> <span class="pre">3</span> <span class="pre">B+</span></code> ma possono essere usati anche anche modelli
precedenti e ovviamente il <code class="docutils literal notranslate"><span class="pre">RaspberryPi</span> <span class="pre">4</span> <span class="pre">B</span></code>.</p>
<section id="azioni-preliminari">
<h2><a class="toc-backref" href="#id3">Azioni Preliminari</a><a class="headerlink" href="#azioni-preliminari" title="Permalink to this headline">¶</a></h2>
<p>Appunti <a class="reference external" href="../../../../../../it.unibo.raspIntro2020/userDocs/LabRaspiIntro.html">a.a. 20-21</a>.</p>
<ol class="arabic simple">
<li><p>Crea scheda SD con <code class="docutils literal notranslate"><span class="pre">2020-02-13-raspbian-buster-lite</span></code>.</p></li>
<li><p>Con la scheda inserita in un PC, crea un file vuoto <code class="docutils literal notranslate"><span class="pre">boot/ssh</span></code>.</p></li>
<li><p>Crea un file <code class="docutils literal notranslate"><span class="pre">boot/wpa_supplicant.conf</span></code> con il seguente contenuto</p></li>
</ol>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ctrl_interface</span><span class="o">=</span><span class="n">DIR</span><span class="o">=/</span><span class="n">var</span><span class="o">/</span><span class="n">run</span><span class="o">/</span><span class="n">wpa_supplicant</span> <span class="n">GROUP</span><span class="o">=</span><span class="n">netdev</span>
<span class="n">update_config</span><span class="o">=</span><span class="mi">1</span>
<span class="n">country</span><span class="o">=</span><span class="n">IT</span>
<span class="n">network</span><span class="o">=</span><span class="p">{</span>
    <span class="n">ssid</span><span class="o">=</span><span class="s2">&quot;... Your_ESSID &quot;</span>
    <span class="n">psk</span><span class="o">=</span><span class="s2">&quot;... Your_wifi_password&quot;</span>
    <span class="n">key_mgmt</span><span class="o">=</span><span class="n">WPA</span><span class="o">-</span><span class="n">PSK</span>
<span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
<p>A questo punto inserisci la scheda SD sul Raspberry, alimentalo
con <code class="docutils literal notranslate"><span class="pre">5VDC</span> <span class="pre">700mA</span></code> e poi
(Si veda anche <a class="reference external" href="https://www.digikey.com/en/maker/blogs/raspberry-pi-wi-fi-bluetooth-setup-how-to-configure-your-pi-4-model-b-3-model-b">Raspberry Pi Wi-Fi &amp; Bluetooth Setup</a>):</p>
<ol class="arabic simple">
<li><p>Leggi (opzionalmente collega il Rasperry con un cavo Ethernet) l’indirizzo IP del Raspberry sul Modem-HUB di casa.</p></li>
<li><p>Connetti il Raspberry via <code class="docutils literal notranslate"><span class="pre">ssh</span></code> usando <code class="docutils literal notranslate"><span class="pre">Putty</span></code>.</p></li>
</ol>
<dl class="simple">
<dt>Quando il sistema si attiva i file in boot è trasferito in</dt><dd><p><code class="docutils literal notranslate"><span class="pre">etc/wpa_supplicant/wpa_supplicant.conf</span></code></p>
</dd>
</dl>
</section>
<section id="uno-sguardo-al-sistema">
<h2><a class="toc-backref" href="#id4">Uno sguardo al sistema</a><a class="headerlink" href="#uno-sguardo-al-sistema" title="Permalink to this headline">¶</a></h2>
<p>Prima di procedere alla installazione di nuovo software, conviene dare un’occhiata alla versione iniziale</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cat</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">os</span><span class="o">-</span><span class="n">release</span>
    <span class="n">PRETTY_NAME</span><span class="o">=</span><span class="s2">&quot;Raspbian GNU/Linux 10 (buster)&quot;</span>
    <span class="n">NAME</span><span class="o">=</span><span class="s2">&quot;Raspbian GNU/Linux&quot;</span>
    <span class="n">VERSION_ID</span><span class="o">=</span><span class="s2">&quot;10&quot;</span>
    <span class="o">...</span>

<span class="n">uname</span> <span class="o">-</span><span class="n">a</span>
    <span class="n">Linux</span> <span class="n">raspberrypi</span> <span class="mf">4.19.118</span><span class="o">-</span><span class="n">v7</span><span class="o">+</span> <span class="c1">#1311 SMP Mon Apr 27 14:21:24 BST 2020 armv7l GNU/Linux</span>
</pre></div>
</div>
<p>Visualizziamo i dispositivi</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">arecord</span> <span class="o">-</span><span class="n">l</span>   <span class="c1">#visualizza i dispositivi</span>
    <span class="o">****</span> <span class="n">List</span> <span class="n">of</span> <span class="n">CAPTURE</span> <span class="n">Hardware</span> <span class="n">Devices</span> <span class="o">****</span>
    <span class="n">card</span> <span class="mi">1</span><span class="p">:</span> <span class="n">Camera</span> <span class="p">[</span><span class="n">HD</span> <span class="n">Web</span> <span class="n">Camera</span><span class="p">],</span> <span class="n">device</span> <span class="mi">0</span><span class="p">:</span> <span class="n">USB</span> <span class="n">Audio</span> <span class="p">[</span><span class="n">USB</span> <span class="n">Audio</span><span class="p">]</span>

<span class="n">arecord</span> <span class="o">-</span><span class="n">L</span>  <span class="c1">#visualizza in modo esteso</span>
    <span class="n">plughw</span><span class="p">:</span><span class="n">CARD</span><span class="o">=</span><span class="n">Camera</span><span class="p">,</span><span class="n">DEV</span><span class="o">=</span><span class="mi">0</span>
        <span class="n">HD</span> <span class="n">Web</span> <span class="n">Camera</span><span class="p">,</span> <span class="n">USB</span> <span class="n">Audio</span>
        <span class="n">Hardware</span> <span class="n">device</span> <span class="k">with</span> <span class="nb">all</span> <span class="n">software</span> <span class="n">conversions</span>
</pre></div>
</div>
</section>
<section id="abilitazione">
<h2><a class="toc-backref" href="#id5">Abilitazione</a><a class="headerlink" href="#abilitazione" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">raspi</span><span class="o">-</span><span class="n">config</span>
</pre></div>
</div>
</section>
<section id="installazioni-2022">
<h2><a class="toc-backref" href="#id6">Installazioni 2022</a><a class="headerlink" href="#installazioni-2022" title="Permalink to this headline">¶</a></h2>
<section id="java">
<h3><a class="toc-backref" href="#id7">Java</a><a class="headerlink" href="#java" title="Permalink to this headline">¶</a></h3>
</section>
<section id="git">
<h3><a class="toc-backref" href="#id8">GIT</a><a class="headerlink" href="#git" title="Permalink to this headline">¶</a></h3>
</section>
<section id="node-ed-express">
<h3><a class="toc-backref" href="#id9">Node ed Express</a><a class="headerlink" href="#node-ed-express" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">apt</span> <span class="n">remove</span> <span class="n">nodejs</span> <span class="n">nodejs</span><span class="o">-</span><span class="n">legacy</span> <span class="o">-</span><span class="n">y</span>
<span class="n">sudo</span> <span class="n">apt</span> <span class="n">remove</span> <span class="n">npm</span> <span class="o">-</span><span class="n">y</span>
<span class="n">sudo</span> <span class="n">apt</span> <span class="n">remove</span> <span class="o">--</span><span class="n">purge</span> <span class="n">node</span>

<span class="o">//</span><span class="n">updates</span> <span class="n">our</span> <span class="n">Debian</span> <span class="n">apt</span> <span class="n">package</span> <span class="n">repository</span>
<span class="o">//</span><span class="n">to</span> <span class="n">include</span> <span class="n">the</span> <span class="n">NodeSource</span> <span class="n">packages</span>
<span class="n">curl</span> <span class="o">-</span><span class="n">sL</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">deb</span><span class="o">.</span><span class="n">nodesource</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">setup_13</span><span class="o">.</span><span class="n">x</span> <span class="o">|</span> <span class="n">sudo</span> <span class="o">-</span><span class="n">E</span> <span class="n">bash</span> <span class="o">-</span>
<span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="o">-</span><span class="n">y</span> <span class="n">nodejs</span>  <span class="o">//</span> <span class="n">to</span> <span class="n">install</span> <span class="n">Node</span><span class="o">.</span><span class="n">js</span> <span class="mf">13.</span><span class="n">x</span> <span class="ow">and</span> <span class="n">npm</span>

<span class="n">node</span> <span class="o">-</span><span class="n">v</span>                             <span class="o">//</span><span class="n">v13</span><span class="mf">.7.0</span>
<span class="n">npm</span> <span class="o">--</span><span class="n">version</span>               <span class="o">//</span><span class="mf">6.13.6</span>

<span class="n">npm</span> <span class="n">init</span>                    <span class="o">//</span><span class="n">create</span> <span class="n">package</span><span class="o">.</span><span class="n">json</span>
<span class="n">npm</span> <span class="n">install</span> <span class="n">serialport</span>      <span class="o">//--</span><span class="n">save</span> <span class="ow">is</span> <span class="n">implicit</span>

<span class="n">npm</span> <span class="n">install</span> <span class="n">express</span>
</pre></div>
</div>
</section>
<section id="samba">
<h3><a class="toc-backref" href="#id10">Samba</a><a class="headerlink" href="#samba" title="Permalink to this headline">¶</a></h3>
</section>
<section id="cmake">
<h3><a class="toc-backref" href="#id11">cmake</a><a class="headerlink" href="#cmake" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">cmake</span></code> è un software multipiattaforma gratuito e open source per l’automazione della build,
il test, il confezionamento e l’installazione di software utilizzando un metodo indipendente dal compilatore.
Ha dipendenze minime, richiedendo solo un compilatore C++ sul proprio sistema di compilazione.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="n">cmake</span>
</pre></div>
</div>
</section>
<section id="shellinabox">
<h3><a class="toc-backref" href="#id12">Shellinabox</a><a class="headerlink" href="#shellinabox" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="https://github.com/shellinabox/shellinabox">Shellinabox</a>
utilizza la tecnologia <code class="docutils literal notranslate"><span class="pre">AJAX</span></code> per fornire l’aspetto di una shell nativa tramite un browser web.
Il demone  <code class="docutils literal notranslate"><span class="pre">shellinaboxd</span></code> implementa un server web che ascolta sulla porta specificata
(il defualt è <code class="docutils literal notranslate"><span class="pre">4200</span></code>).
Il server web pubblica uno o più servizi che verranno visualizzati in un  emulatore <code class="docutils literal notranslate"><span class="pre">VT100</span></code>
implementato come applicazione web <code class="docutils literal notranslate"><span class="pre">AJAX</span></code>.</p>
<p>Shellinabox è incluso in molte distribuzioni Linux tramite repository predefiniti.
Per motivi di sicurezza, è bene cambiare la porta predefinita (ad esempio in 6754)
per rendere difficile a chiunque raggiungere la casella SSH.</p>
<p>Durante l’installazione viene creato automaticamente un nuovo certificato SSL autofirmato in
<code class="docutils literal notranslate"><span class="pre">/var/lib/shellinabox</span></code> per utilizzare il protocollo <cite>HTTPS</cite>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">cache</span> <span class="n">search</span> <span class="n">shellinabox</span>
<span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="n">openssl</span>
<span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="o">-</span><span class="n">y</span> <span class="n">install</span> <span class="n">shellinabox</span>

<span class="n">SHELLINABOX_PORT</span><span class="o">=</span><span class="mi">6754</span>                 <span class="c1">#Cambio della porta</span>
<span class="n">sudo</span> <span class="n">service</span> <span class="n">shellinaboxd</span> <span class="n">start</span>       <span class="c1">#Attiva il servizio</span>
<span class="n">sudo</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">init</span><span class="o">.</span><span class="n">d</span><span class="o">/</span><span class="n">shellinabox</span> <span class="n">restart</span>

<span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">init</span><span class="o">.</span><span class="n">d</span><span class="o">/</span><span class="n">shellinabox</span> <span class="n">status</span>
<span class="n">sudo</span> <span class="n">service</span> <span class="o">--</span><span class="n">status</span><span class="o">-</span><span class="nb">all</span>             <span class="c1">#visualizza i servizi</span>
<span class="n">sudo</span> <span class="n">netstat</span> <span class="o">-</span><span class="n">tlpn</span>                    <span class="c1">#visualizza i servizi and le porte TCP in ascolto</span>
<span class="n">sudo</span> <span class="n">netstat</span> <span class="o">-</span><span class="n">nap</span> <span class="o">|</span> <span class="n">grep</span> <span class="n">shellinabox</span>  <span class="c1">#verifica</span>

<span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">localhost</span><span class="p">:</span><span class="mi">4200</span>
</pre></div>
</div>
</section>
<section id="ambiente-virtuale-python">
<h3><a class="toc-backref" href="#id13">Ambiente virtuale Python</a><a class="headerlink" href="#ambiente-virtuale-python" title="Permalink to this headline">¶</a></h3>
<p>Un ambiente virtuale è uno strumento Python per la gestione delle dipendenze e
l’ isolamento del progetto. Consentono ai Package del sito Python (librerie di terze parti)
di essere installati localmente in una directory isolata per un particolare progetto,
invece di essere installati globalmente (cioè come parte di un Python a livello di sistema).</p>
<p>Posizionamoci in una drectory di lavoro e
creiamo un ambiente per Python 3 denominato <strong>myenv</strong>.</p>
<p>Fase 1: aggiungiamo un opzione di configurazione al file hidden denominato <cite>.bashrc</cite> aggiungendo il comando
(alias) <cite>myenv</cite>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span> <span class="n">echo</span><span class="p">;</span> <span class="n">echo</span> <span class="s1">&#39;##### added for myenv #####&#39;</span><span class="p">;</span> <span class="n">echo</span> <span class="s1">&#39;export PATH=/home/pi/.local/bin:$PATH&#39;</span><span class="p">;</span> <span class="n">echo</span> <span class="s2">&quot;alias myenv=&#39;source ~/myenv/bin/activate&#39;&quot;</span><span class="p">)</span> <span class="o">&gt;&gt;</span> <span class="o">~/.</span><span class="n">bashrc</span>
<span class="o">.</span> <span class="o">~/.</span><span class="n">bashrc</span>
</pre></div>
</div>
<p>Fase 2: attiviamo il nuovo virtualenv e entriamo in esso:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip3</span> <span class="n">install</span> <span class="o">--</span><span class="n">upgrade</span> <span class="n">pip</span>
<span class="n">python3</span> <span class="o">-</span><span class="n">m</span> <span class="n">pip</span> <span class="n">install</span> <span class="n">virtualenv</span>
<span class="n">python3</span> <span class="o">-</span><span class="n">m</span> <span class="n">virtualenv</span> <span class="n">myenv</span>
</pre></div>
</div>
<p>Per entrare nel virtualenv appena creato basta digitare:</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">myenv</span></code></p>
</div></blockquote>
<p>Per uscire dal virtualenv:</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">deactivate</span></code>.</p>
</div></blockquote>
</section>
<section id="multi-media">
<h3><a class="toc-backref" href="#id14">Multi-Media</a><a class="headerlink" href="#multi-media" title="Permalink to this headline">¶</a></h3>
<section id="audio-con-alsa">
<h4><a class="toc-backref" href="#id15">Audio con alsa</a><a class="headerlink" href="#audio-con-alsa" title="Permalink to this headline">¶</a></h4>
<p>Nella directory <cite>/home/pi/nat</cite> inseriamo file wav ed mp3 ed eseguiamo (per sentire audio mediante cell-phone TRRS Headset):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">aplay</span> <span class="n">example_WAV</span><span class="o">.</span><span class="n">wav</span>         <span class="c1">#(non usare per mp3)</span>
<span class="n">omxplayer</span> <span class="n">Oratore</span><span class="o">.</span><span class="n">mp3</span>         <span class="c1">#(- + regola volume)</span>
<span class="n">omxplayer</span> <span class="n">example_WAV</span><span class="o">.</span><span class="n">wav</span>     <span class="c1">#riproduce - + modifica volumer</span>
<span class="n">omxplayer</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">pi</span><span class="o">/</span><span class="n">Music</span><span class="o">/</span><span class="n">Ella_Fitzgerald_Summertime</span><span class="o">.</span><span class="n">mp3</span>

<span class="n">speaker</span><span class="o">-</span><span class="n">test</span> <span class="o">-</span><span class="n">c2</span> <span class="o">--</span><span class="n">test</span><span class="o">=</span><span class="n">wav</span> <span class="o">-</span><span class="n">w</span> <span class="n">Rear_Center</span><span class="o">.</span><span class="n">wav</span>
<span class="p">(</span><span class="n">cerca</span> <span class="ow">in</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">share</span><span class="o">/</span><span class="n">sounds</span><span class="o">/</span><span class="n">alsa</span><span class="o">/</span><span class="n">xxx</span><span class="o">.</span><span class="n">wav</span><span class="p">)</span>
</pre></div>
</div>
<p>Una libreria di suoni: <a class="reference external" href="https://pdsounds.org/">https://pdsounds.org/</a></p>
</section>
<section id="raspicam">
<h4><a class="toc-backref" href="#id16">RaspiCam</a><a class="headerlink" href="#raspicam" title="Permalink to this headline">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">raspistill</span> <span class="o">-</span><span class="n">o</span> <span class="n">image</span><span class="o">.</span><span class="n">jpg</span>             <span class="c1">#scatta immagine</span>
<span class="n">raspivid</span> <span class="o">-</span><span class="n">o</span> <span class="n">video</span><span class="o">.</span><span class="n">h264</span> <span class="o">-</span><span class="n">t</span> <span class="mi">5000</span>              <span class="c1">#crea video (in msecs)</span>
</pre></div>
</div>
</section>
<section id="webcam">
<h4><a class="toc-backref" href="#id17">WebCam</a><a class="headerlink" href="#webcam" title="Permalink to this headline">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">apt</span> <span class="n">install</span> <span class="n">fswebcam</span>
<span class="n">fswebcam</span> <span class="n">image1</span><span class="o">.</span><span class="n">jpg</span>                <span class="c1">#crea immagine 320×240</span>
<span class="n">fswebcam</span> <span class="o">-</span><span class="n">r</span> <span class="mi">1280</span><span class="n">x720</span> <span class="n">image2</span><span class="o">.</span><span class="n">jpg</span>    <span class="c1">#crea immagine 1280x720</span>
</pre></div>
</div>
<p>Se abbiamo installato una WebCam con microfono, controlliamone il funzionamento</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">arecord</span> <span class="o">-</span><span class="n">D</span> <span class="n">plughw</span><span class="p">:</span><span class="n">Camera</span> <span class="n">test</span><span class="o">.</span><span class="n">wav</span>
<span class="n">arecord</span> <span class="o">-</span><span class="n">D</span> <span class="n">plughw</span><span class="p">:</span><span class="n">Camera</span><span class="p">,</span><span class="mi">0</span> <span class="o">-</span><span class="n">d</span> <span class="mi">5</span> <span class="o">-</span><span class="n">f</span> <span class="n">cd</span> <span class="n">test</span><span class="o">.</span><span class="n">wav</span> <span class="o">-</span><span class="n">c</span> <span class="mi">2</span>
<span class="n">omxplayer</span> <span class="n">test</span><span class="o">.</span><span class="n">wav</span>      <span class="c1">#riproduce - + modifica volumer</span>

<span class="n">alsamixer</span> <span class="c1">#F6 seleziona la scheda</span>
</pre></div>
</div>
</section>
<section id="mjpg-streamer">
<h4><a class="toc-backref" href="#id18">mjpg-streamer</a><a class="headerlink" href="#mjpg-streamer" title="Permalink to this headline">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">jacksonliam</span><span class="o">/</span><span class="n">mjpg</span><span class="o">-</span><span class="n">streamer</span><span class="o">.</span><span class="n">git</span>
<span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="n">cmake</span> <span class="n">libjpeg8</span><span class="o">-</span><span class="n">dev</span>
<span class="n">cd</span> <span class="n">mjpg</span><span class="o">-</span><span class="n">streamer</span><span class="o">-</span><span class="n">experimental</span>
<span class="n">make</span>
<span class="n">sudo</span> <span class="n">make</span> <span class="n">install</span>
 <span class="o">./</span><span class="n">start</span><span class="o">.</span><span class="n">sh</span>     <span class="ow">or</span> <span class="n">bash</span> <span class="n">start</span><span class="o">.</span><span class="n">sh</span>

<span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">localhost</span><span class="p">:</span><span class="mi">8080</span><span class="o">/</span><span class="n">stream</span><span class="o">.</span><span class="n">html</span>

<span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">mjpg_streamer</span> <span class="o">-</span><span class="n">i</span> <span class="s2">&quot;input_uvc.so -r 1280x720  -d /dev/video0 -f 30&quot;</span> <span class="o">-</span><span class="n">o</span> <span class="s2">&quot;output_http.so -p 8085  -w /usr/local/share/mjpg-streamer/www&quot;</span>
<span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">localhost</span><span class="p">:</span><span class="mi">8085</span><span class="o">/</span><span class="n">stream</span><span class="o">.</span><span class="n">html</span>
</pre></div>
</div>
</section>
</section>
<section id="pygame">
<h3><a class="toc-backref" href="#id19">pygame</a><a class="headerlink" href="#pygame" title="Permalink to this headline">¶</a></h3>
<p>PyGame di solito viene installato con l’ultima distribuzione Raspbian
Pygame v1.9 is in raspi os at install.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">lib</span> <span class="c1">#directory delle librerie</span>

<span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="n">libsdl</span><span class="o">-</span><span class="n">ttf2</span><span class="mf">.0</span><span class="o">-</span><span class="mi">0</span>
<span class="n">python3</span> <span class="o">-</span><span class="n">m</span> <span class="n">pip</span> <span class="n">install</span> <span class="o">-</span><span class="n">U</span> <span class="n">pygame</span> <span class="o">--</span><span class="n">user</span> <span class="c1">#install in the home directory</span>
<span class="n">pygame</span><span class="o">.</span><span class="n">mixer</span><span class="o">.</span><span class="n">music</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;/home/pi/Music/Oratore.mp3&quot;</span><span class="p">)</span>
<span class="n">pygame</span><span class="o">.</span><span class="n">mixer</span><span class="o">.</span><span class="n">music</span><span class="o">.</span><span class="n">play</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

<span class="n">python</span>
</pre></div>
</div>
</section>
<section id="opencv">
<h3><a class="toc-backref" href="#id20">opencv</a><a class="headerlink" href="#opencv" title="Permalink to this headline">¶</a></h3>
<p>L’ultima versione non sembra facilmente caricabile.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">apt</span> <span class="n">install</span> <span class="n">libatlas3</span><span class="o">-</span><span class="n">base</span>
<span class="n">pip</span> <span class="n">install</span> <span class="n">opencv</span><span class="o">-</span><span class="n">python</span><span class="o">==</span><span class="mf">4.4.0.42</span>

<span class="n">python</span> <span class="n">face_detection</span><span class="o">.</span><span class="n">py</span>    <span class="c1">#da: https://www.html.it/articoli/face-detection-python-10-linee-di-codice/</span>
<span class="n">Necessita</span> <span class="n">scaricare</span>         <span class="c1">#da: https://github.com/opencv/opencv/tree/master/data/haarcascades</span>
</pre></div>
</div>
</section>
</section>
<section id="comandi-utili">
<h2><a class="toc-backref" href="#id21">Comandi utili</a><a class="headerlink" href="#comandi-utili" title="Permalink to this headline">¶</a></h2>
<p>Richiamiamo alcuni comandi di uso frequente</p>
<table class="colwidths-given docutils align-left" style="width: 100%">
<colgroup>
<col style="width: 60%" />
<col style="width: 40%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Azione</p></th>
<th class="head"><p>Comando</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Elenco dei package installati</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">apt</span> <span class="pre">list</span> <span class="pre">--installed</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>Aggiorna l’elenco dei package  disponibili e le loro versioni</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">apt-get</span> <span class="pre">update</span> <span class="pre">-y</span></code></p></td>
</tr>
<tr class="row-even"><td><p>Installa  le versioni più recenti dei packages</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">apt-get</span> <span class="pre">upgrade</span>&#160; <span class="pre">-y</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>Cerca reti wireless</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">iwlist</span> <span class="pre">wlan0</span></code></p></td>
</tr>
<tr class="row-even"><td><p>Visualizza processi</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ps</span> <span class="pre">-fA</span></code> o  <code class="docutils literal notranslate"><span class="pre">ps</span> <span class="pre">-fA</span> <span class="pre">|</span> <span class="pre">grep</span> <span class="pre">&lt;name&gt;</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>Termina un processo</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">kill</span> <span class="pre">-s</span> <span class="pre">KILL</span> <span class="pre">&lt;process</span> <span class="pre">number&gt;</span></code></p></td>
</tr>
<tr class="row-even"><td><p>Visualizza la configurazione delle interfacce di rete</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">cat</span> <span class="pre">/etc/network/interfaces</span></code></p></td>
</tr>
</tbody>
</table>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="index.html">
    <img class="logo" src="_static/logo-unibo.gif" alt="Logo"/>
    
    <h1 class="logo logo-name">iss22</h1>
    
  </a>
</p>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="CostruzioneSoftware.html">Costruzione del software</a></li>
<li class="toctree-l1"><a class="reference internal" href="Tecnologie.html">Tecnologie</a></li>
<li class="toctree-l1"><a class="reference internal" href="AttoriQak.html">Attori qak</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">RaspberryPi</a></li>
<li class="toctree-l1"><a class="reference internal" href="Robots.html">Robots</a></li>
<li class="toctree-l1"><a class="reference internal" href="Applicazioni.html">Applicazioni</a></li>
<li class="toctree-l1"><a class="reference internal" href="Indicazioni.html">Dal motto all’azione</a></li>
<li class="toctree-l1"><a class="reference internal" href="Domande.html">Domande</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="AttoriQak.html" title="previous chapter">Attori qak</a></li>
      <li>Next: <a href="Robots.html" title="next chapter">Robots</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2021, Antonio Natali.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 4.2.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/Raspberry.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>